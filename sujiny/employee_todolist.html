<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Employee</title>
    <link rel="stylesheet" type="text/css" href="css/employee_todolist.css">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Roboto&display=swap" rel="stylesheet">
    <script src="http://code.jquery.com/jquery.min.js"></script>      
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="sidebar">
            <header>
                <a href="#"><h1 class="header-logo">Hello Employee</h1></a>
            </header>
            <nav class="check">
                <ul>
                    <li class="checkIn">출근</li>
                    <li class="checkOut">퇴근</li>
                </ul>
            </nav>
            
            <div class="employeeSelectAll"><!--employee_chart-->
                <p>직원을 선택해주세요.
                    <select class="employeeSelect" name="select"><!--select-->
                        <option></option>
                        <!-- <option>김수진</option>
                        <option>윤보민</option>
                        <option>이재혁</option>
                        <option>박성광</option> -->
                    </select>
                </p>
            </div>
            
            <nav>
                <ul class="globalnav">
                    <li><a href="#">일정확인</a></li>
                    <li><a href="#">근태확인</a></li>
                    <li><a href="#">급여확인</a></li>
                    <li><a href="#">휴가신청</a></li>
                    <li><a href="#">월차신청</a></li>
                </ul>
            </nav>
        </div>
        
        
        <div class="maincontents">
            <div class="profile"><img src="images/profile.jpg" alt="">
            </div><!--/profile-top-->

            <div class="profile-middle">
                <table>
                    <thead>
                        <tr><th colspan="5">4월 일정</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="2">시작할 일</td>
                            <td colspan="2">끝낸 일</td>
                        </tr>
                        <tr class="hours">
                            <td class="active">
                                <span> </span>
                                <input type="checkbox" />
                            </td>
                            <td class="active">
                                <span>  </span>
                                <input type="checkbox" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div><!--/profile-middle-->
            
            <div class="profile-bottom">
            </div><!--/bottom-->
            

            <div class="notice">
                <p>
                    <mark>김 수진</mark> 님 반갑습니다. 현재 <mark>직원 페이지</mark>에 접근하셨습니다. 
                    <a href="#a"><span class="notice-btn">로그아웃</span></a>
                </p>
            </div>
        </div>
            <script>
                const employeeSelectForm =document.querySelector(".employeeSelect"); // employeeSelectForm는, 쿼리셀렉터라는 돔함수를 가지고 넣을 곳을 데려온것. 넣을 곳을 찾는다.
                console.log(employeeSelectForm);

                $('button').click(function(){

                })

                $.ajax({
                    url:'/checkIn.json',// 요청 할 주소  8090/toDo/25
                    type:'GET',
                    // dataType:'html',// xml, json, script, html
                    success:res => { 
                        console.log(res); 
                        for(let i=0;i<res.data.data.length;i++){ 
                            let employeeOption = document.createElement("option"); //넣을 태그(것)
                            employeeOption.innerText=res.data.data[i].emName; //넣을 것에 대한 내용 설정
                            employeeSelectForm.appendChild(employeeOption); //넣을곳.appendchild(넣을 것)을 하면 넣을 곳에 넣을 것이 들어간다.
                        }
                    },// 요청 완료 시
                    error:err => console.log(err),// 요청 실패.
                });

                $.ajax({
                    url:'/todolist',
                    type: 'PUT',
                    data: [
                            {toDoID:7, toDo: "킴킴", toDoDate: "2020-03-15", todoCheck: 0},
                            {toDoID:2, toDo: "김", toDoDate: "2020-03-15", todoCheck: 0},
                            {toDoID:3, toDo: "김수", toDoDate: "2020-03-15", todoCheck: 0},
                            {toDoID:4, toDo: "김수진", toDoDate: "2020-03-15", todoCheck: 0},
                        ],
                    success: function(result){
                        
                    },
                })

                // 서버가 데이터를 받는 방식 Nodejs에서!
                // app.get('/todolist',function(req,res){
                //     let data1 = req.body.data[0].toDoID
                // })
    </script>
</body>
</html>